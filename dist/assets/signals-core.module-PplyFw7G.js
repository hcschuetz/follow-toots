var e=e=>typeof e?.[Symbol.iterator]==`function`;function t(n,...r){for(let i of r)i==null||(typeof i==`string`||i instanceof HTMLElement||i instanceof DocumentFragment?n.append(i):i instanceof Attr?n.setAttribute(i.name,i.value):typeof i==`function`?t(n,i(n)):e(i)?t(n,...i):(i.constructor!==Object&&console.warn(`Properties for ${n} not a plain object: ${i}`),Object.entries(i).forEach(([e,t])=>{e.startsWith(`@`)?n.addEventListener(e.substring(1),t):n[e]=t})));return n}function n(e,...n){return e.replaceChildren(),t(e,...n)}function r(e,...n){let[r,...i]=e.split(`.`),a=document.createElement(r);for(let e of i)a.classList.add(e);return t(a,...n)}const i=r;var a=Symbol.for(`preact-signals`);function o(){if(u>1)u--;else{for(var e,t=!1;l!==void 0;){var n=l;for(l=void 0,d++;n!==void 0;){var r=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&g(n))try{n.c()}catch(n){t||=(e=n,!0)}n=r}}if(d=0,u--,t)throw e}}var s=void 0;function c(e){var t=s;s=void 0;try{return e()}finally{s=t}}var l=void 0,u=0,d=0,f=0;function p(e){if(s!==void 0){var t=e.n;if(t===void 0||t.t!==s)return t={i:0,S:e,p:s.s,n:void 0,t:s,e:void 0,x:void 0,r:t},s.s!==void 0&&(s.s.n=t),s.s=t,e.n=t,32&s.f&&e.S(t),t;if(t.i===-1)return t.i=0,t.n!==void 0&&(t.n.p=t.p,t.p!==void 0&&(t.p.n=t.n),t.p=s.s,t.n=void 0,s.s.n=t,s.s=t),t}}function m(e,t){this.v=e,this.i=0,this.n=void 0,this.t=void 0,this.W=t?.watched,this.Z=t?.unwatched,this.name=t?.name}m.prototype.brand=a,m.prototype.h=function(){return!0},m.prototype.S=function(e){var t=this,n=this.t;n!==e&&e.e===void 0&&(e.x=n,this.t=e,n===void 0?c(function(){var e;(e=t.W)==null||e.call(t)}):n.e=e)},m.prototype.U=function(e){var t=this;if(this.t!==void 0){var n=e.e,r=e.x;n!==void 0&&(n.x=r,e.e=void 0),r!==void 0&&(r.e=n,e.x=void 0),e===this.t&&(this.t=r,r===void 0&&c(function(){var e;(e=t.Z)==null||e.call(t)}))}},m.prototype.subscribe=function(e){var t=this;return w(function(){var n=t.value,r=s;s=void 0;try{e(n)}finally{s=r}},{name:`sub`})},m.prototype.valueOf=function(){return this.value},m.prototype.toString=function(){return this.value+``},m.prototype.toJSON=function(){return this.value},m.prototype.peek=function(){var e=s;s=void 0;try{return this.value}finally{s=e}},Object.defineProperty(m.prototype,`value`,{get:function(){var e=p(this);return e!==void 0&&(e.i=this.i),this.v},set:function(e){if(e!==this.v){if(d>100)throw Error(`Cycle detected`);this.v=e,this.i++,f++,u++;try{for(var t=this.t;t!==void 0;t=t.x)t.t.N()}finally{o()}}}});function h(e,t){return new m(e,t)}function g(e){for(var t=e.s;t!==void 0;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function _(e){for(var t=e.s;t!==void 0;t=t.n){var n=t.S.n;if(n!==void 0&&(t.r=n),t.S.n=t,t.i=-1,t.n===void 0){e.s=t;break}}}function v(e){for(var t=e.s,n=void 0;t!==void 0;){var r=t.p;t.i===-1?(t.S.U(t),r!==void 0&&(r.n=t.n),t.n!==void 0&&(t.n.p=r)):n=t,t.S.n=t.r,t.r!==void 0&&(t.r=void 0),t=r}e.s=n}function y(e,t){m.call(this,void 0),this.x=e,this.s=void 0,this.g=f-1,this.f=4,this.W=t?.watched,this.Z=t?.unwatched,this.name=t?.name}y.prototype=new m,y.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===f))return!0;if(this.g=f,this.f|=1,this.i>0&&!g(this))return this.f&=-2,!0;var e=s;try{_(this),s=this;var t=this.x();(16&this.f||this.v!==t||this.i===0)&&(this.v=t,this.f&=-17,this.i++)}catch(e){this.v=e,this.f|=16,this.i++}return s=e,v(this),this.f&=-2,!0},y.prototype.S=function(e){if(this.t===void 0){this.f|=36;for(var t=this.s;t!==void 0;t=t.n)t.S.S(t)}m.prototype.S.call(this,e)},y.prototype.U=function(e){if(this.t!==void 0&&(m.prototype.U.call(this,e),this.t===void 0)){this.f&=-33;for(var t=this.s;t!==void 0;t=t.n)t.S.U(t)}},y.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var e=this.t;e!==void 0;e=e.x)e.t.N()}},Object.defineProperty(y.prototype,`value`,{get:function(){if(1&this.f)throw Error(`Cycle detected`);var e=p(this);if(this.h(),e!==void 0&&(e.i=this.i),16&this.f)throw this.v;return this.v}});function b(e){var t=e.u;if(e.u=void 0,typeof t==`function`){u++;var n=s;s=void 0;try{t()}catch(t){throw e.f&=-2,e.f|=8,x(e),t}finally{s=n,o()}}}function x(e){for(var t=e.s;t!==void 0;t=t.n)t.S.U(t);e.x=void 0,e.s=void 0,b(e)}function S(e){if(s!==this)throw Error(`Out-of-order effect`);v(this),s=e,this.f&=-2,8&this.f&&x(this),o()}function C(e,t){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32,this.name=t?.name}C.prototype.c=function(){var e=this.S();try{if(8&this.f||this.x===void 0)return;var t=this.x();typeof t==`function`&&(this.u=t)}finally{e()}},C.prototype.S=function(){if(1&this.f)throw Error(`Cycle detected`);this.f|=1,this.f&=-9,b(this),_(this),u++;var e=s;return s=this,S.bind(this,e)},C.prototype.N=function(){2&this.f||(this.f|=2,this.o=l,l=this)},C.prototype.d=function(){this.f|=8,1&this.f||x(this)},C.prototype.dispose=function(){this.d()};function w(e,t){var n=new C(e,t);try{n.c()}catch(e){throw n.d(),e}var r=n.d.bind(n);return r[Symbol.dispose]=r,r}export{n as a,i,h as n,t as o,r,w as t};