var e=Symbol.for(`preact-signals`);function t(){if(a>1)a--;else{for(var e,t=!1;i!==void 0;){var n=i;for(i=void 0,o++;n!==void 0;){var r=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&d(n))try{n.c()}catch(n){t||=(e=n,!0)}n=r}}if(o=0,a--,t)throw e}}var n=void 0;function r(e){var t=n;n=void 0;try{return e()}finally{n=t}}var i=void 0,a=0,o=0,s=0;function c(e){if(n!==void 0){var t=e.n;if(t===void 0||t.t!==n)return t={i:0,S:e,p:n.s,n:void 0,t:n,e:void 0,x:void 0,r:t},n.s!==void 0&&(n.s.n=t),n.s=t,e.n=t,32&n.f&&e.S(t),t;if(t.i===-1)return t.i=0,t.n!==void 0&&(t.n.p=t.p,t.p!==void 0&&(t.p.n=t.n),t.p=n.s,t.n=void 0,n.s.n=t,n.s=t),t}}function l(e,t){this.v=e,this.i=0,this.n=void 0,this.t=void 0,this.W=t?.watched,this.Z=t?.unwatched,this.name=t?.name}l.prototype.brand=e,l.prototype.h=function(){return!0},l.prototype.S=function(e){var t=this,n=this.t;n!==e&&e.e===void 0&&(e.x=n,this.t=e,n===void 0?r(function(){var e;(e=t.W)==null||e.call(t)}):n.e=e)},l.prototype.U=function(e){var t=this;if(this.t!==void 0){var n=e.e,i=e.x;n!==void 0&&(n.x=i,e.e=void 0),i!==void 0&&(i.e=n,e.x=void 0),e===this.t&&(this.t=i,i===void 0&&r(function(){var e;(e=t.Z)==null||e.call(t)}))}},l.prototype.subscribe=function(e){var t=this;return y(function(){var r=t.value,i=n;n=void 0;try{e(r)}finally{n=i}},{name:`sub`})},l.prototype.valueOf=function(){return this.value},l.prototype.toString=function(){return this.value+``},l.prototype.toJSON=function(){return this.value},l.prototype.peek=function(){var e=n;n=void 0;try{return this.value}finally{n=e}},Object.defineProperty(l.prototype,`value`,{get:function(){var e=c(this);return e!==void 0&&(e.i=this.i),this.v},set:function(e){if(e!==this.v){if(o>100)throw Error(`Cycle detected`);this.v=e,this.i++,s++,a++;try{for(var n=this.t;n!==void 0;n=n.x)n.t.N()}finally{t()}}}});function u(e,t){return new l(e,t)}function d(e){for(var t=e.s;t!==void 0;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function f(e){for(var t=e.s;t!==void 0;t=t.n){var n=t.S.n;if(n!==void 0&&(t.r=n),t.S.n=t,t.i=-1,t.n===void 0){e.s=t;break}}}function p(e){for(var t=e.s,n=void 0;t!==void 0;){var r=t.p;t.i===-1?(t.S.U(t),r!==void 0&&(r.n=t.n),t.n!==void 0&&(t.n.p=r)):n=t,t.S.n=t.r,t.r!==void 0&&(t.r=void 0),t=r}e.s=n}function m(e,t){l.call(this,void 0),this.x=e,this.s=void 0,this.g=s-1,this.f=4,this.W=t?.watched,this.Z=t?.unwatched,this.name=t?.name}m.prototype=new l,m.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===s))return!0;if(this.g=s,this.f|=1,this.i>0&&!d(this))return this.f&=-2,!0;var e=n;try{f(this),n=this;var t=this.x();(16&this.f||this.v!==t||this.i===0)&&(this.v=t,this.f&=-17,this.i++)}catch(e){this.v=e,this.f|=16,this.i++}return n=e,p(this),this.f&=-2,!0},m.prototype.S=function(e){if(this.t===void 0){this.f|=36;for(var t=this.s;t!==void 0;t=t.n)t.S.S(t)}l.prototype.S.call(this,e)},m.prototype.U=function(e){if(this.t!==void 0&&(l.prototype.U.call(this,e),this.t===void 0)){this.f&=-33;for(var t=this.s;t!==void 0;t=t.n)t.S.U(t)}},m.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var e=this.t;e!==void 0;e=e.x)e.t.N()}},Object.defineProperty(m.prototype,`value`,{get:function(){if(1&this.f)throw Error(`Cycle detected`);var e=c(this);if(this.h(),e!==void 0&&(e.i=this.i),16&this.f)throw this.v;return this.v}});function h(e){var r=e.u;if(e.u=void 0,typeof r==`function`){a++;var i=n;n=void 0;try{r()}catch(t){throw e.f&=-2,e.f|=8,g(e),t}finally{n=i,t()}}}function g(e){for(var t=e.s;t!==void 0;t=t.n)t.S.U(t);e.x=void 0,e.s=void 0,h(e)}function _(e){if(n!==this)throw Error(`Out-of-order effect`);p(this),n=e,this.f&=-2,8&this.f&&g(this),t()}function v(e,t){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32,this.name=t?.name}v.prototype.c=function(){var e=this.S();try{if(8&this.f||this.x===void 0)return;var t=this.x();typeof t==`function`&&(this.u=t)}finally{e()}},v.prototype.S=function(){if(1&this.f)throw Error(`Cycle detected`);this.f|=1,this.f&=-9,h(this),f(this),a++;var e=n;return n=this,_.bind(this,e)},v.prototype.N=function(){2&this.f||(this.f|=2,this.o=i,i=this)},v.prototype.d=function(){this.f|=8,1&this.f||g(this)},v.prototype.dispose=function(){this.d()};function y(e,t){var n=new v(e,t);try{n.c()}catch(e){throw n.d(),e}var r=n.d.bind(n);return r[Symbol.dispose]=r,r}const b={status:`Toot`,profile:`Profile`},x={plain:{name:`mastodon web client`,icon:`https://joinmastodon.org/logos/logo-purple.svg`,urlFunctions:{status:(e,t)=>`https://${e}/@${t.account.acct}/${t.id}`,profile:(e,t)=>`https://${e}/@${t.account.acct}`}},phanpy:{name:`phanpy.social`,icon:`https://phanpy.social/favicon.ico`,urlFunctions:{status:(e,t)=>`https://phanpy.social/#/${e}/s/${t.id}`,profile:(e,t)=>`https://phanpy.social/#/${e}/a/${t.account.id}`}},elk:{name:`elk.zone`,icon:`https://elk.zone/favicon.ico`,urlFunctions:{status:(e,t)=>`https://elk.zone/${e}/@${t.account.acct}/${t.id}#status-${t.id}`,profile:(e,t)=>`https://elk.zone/${e}/@${t.account.acct}`}}};export{u as i,b as n,y as r,x as t};